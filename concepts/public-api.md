# Публичное API модуля приложения

> Каждая сущность методологии проектируется с расчетом на удобство использования и интеграции в приложение, оставляя само приложение устойчивым к изменениям в отдельных сущностях.
---

- Каждый модуль приложения должен предоставлять публичный интерфейс для интеграции с остальными частями приложения.
- Остальные части приложения могут использовать только те сущности модуля, которые представлены в публичном интерфейсе.
- Внутренности модуля за пределами публичного интерфейса доступны только самому модулю.

- Публичный интерфейс модуля должен быть:
  - устойчив к изменениям внутренней реализации модуля
  - удобен для использования остальными частями приложения, в частности, решать проблему коллизии имен

<details>
Структура сущности должна иметь единую точку входа, предоставляющую публичный интерфейс

```sh
└── features/                        # 
  └── feature-name/                  # Внутренняя структура фичи
          ├── ui/                    #
          ├── model/                 #
          ├── {...}/                 #
          └── index.ts               # Энтрипоинт фичи с ее публичным API
```

```js
// index.ts
export { featureAction, featureStore } from './model';
export { FeatureView, FeatureAnotherView } from './ui';
```
</details>

## Устойчивость интерфейса к изменениям внутренней структуры и реализации модуля

- При использовании модуля нельзя опираться на его внутреннуюю структуру

**Плохо:** перемещение или переименование этого компонента внутри фичи приведет к необходимости рефакторить импорты во всех местах использования компонента.
```diff
- import { Form } from "features/auth-form/ui/form"
```
**Хорошо:** интерфейс фичи не отображает её внутреннуюю структуру, внешние "пользователи" фичи не пострадают от перемещения или переименования компонента внутри фичи
```diff
+ import { AuthForm } from "features/auth-form"
```

## Удобство интерфейса в использовании

- Интерфейс модуля должен быть устойчив к возможным коллизиям имен

**Плохо:** будет коллизия имен
```diff
- import { Form, store } from "features/auth-form"
- import { Form, store } from "features/post-form"
```

**Хорошо:** коллизия решена на уровне интерфейса
```diff
+ import { AuthForm, authFormStore } from "features/auth-form"
+ import { AuthForm, postFormStore } from "features/post-form"
```
